{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/myprojects/tropik/frontend/src/Components/Serveur/GResponsables.jsx\";\nimport React, { Component } from 'react';\nimport AdminNavigation from './AdminNavigation';\nimport AnnexGResponsables from './AnnexGResponsables';\nimport './styles/GResponsables.scss';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport error from './images/404.jpg';\nimport { Paper, Button } from '@material-ui/core';\n\nclass GResponsables extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      numero: '',\n      nom: '',\n      prenom: '',\n      pseudo: '',\n      password: '',\n      telephone: '',\n      address: '',\n      droit: 'SUPER',\n      images: ''\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost/myprojects/tropik/backend/Responsables/get\").then(res => res.data).then(state => this.props.fetchResponsables(state)).catch(err => console.log(\"error parsing:\\n\", err));\n  }\n\n  OnChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  OnchangeFiles(e) {\n    let files = e.target.files;\n    let reader = new FileReader();\n    reader.readAsDataURL(files[0]);\n\n    reader.onload = e => {\n      this.setState({\n        images: e.target.result\n      });\n    };\n  }\n\n  OnClickAjouter(e) {\n    e.preventDefault();\n    const stock = [{\n      NumResponsable: this.state.numero,\n      NomResponsable: this.state.nom,\n      PseudoResponsable: this.state.pseudo,\n      PasswordResponsable: this.state.password,\n      PrenomResponsable: this.state.prenom,\n      AddressResponsable: this.state.address,\n      TelResponsable: this.state.telephone,\n      DroitResponsable: this.state.droit,\n      ImageUrlResponsable: this.state.images\n    }];\n    this.props.addResponsables(stock);\n    this.setState({\n      numero: '',\n      nom: '',\n      prenom: '',\n      pseudo: '',\n      password: '',\n      telephone: '',\n      address: '',\n      droit: '',\n      images: ''\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(AdminNavigation, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"GResponsables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, this.props.responsables.dataResponsables.length !== 0 ? this.props.responsables.dataResponsables.map(e => {\n      return React.createElement(AnnexGResponsables, {\n        data: e,\n        key: e.NumResponsable,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      });\n    }) : React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"error de serveur\"), React.createElement(Paper, {\n      style: {\n        width: 400,\n        height: 260,\n        padding: 5,\n        margin: 3\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"AnnexGResponsables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.images !== '' ? this.state.images : error,\n      alt: \"hotel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"images\",\n      style: {\n        width: 88,\n        border: 'none'\n      },\n      onChange: this.OnchangeFiles.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"containtes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Nom:\"), \" \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.nom,\n      name: \"nom\",\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, \"Prenom:\"), \" \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.prenom,\n      name: \"prenom\",\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Pseudo:\"), \" \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.pseudo,\n      name: \"pseudo\",\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Password:\"), \" \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.password,\n      name: \"password\",\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"Telephone:\"), \" \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.telephone,\n      name: \"telephone\",\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Address:\"), \" \", React.createElement(\"input\", {\n      type: \"text\",\n      value: this.state.address,\n      name: \"address\",\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Droit d'utilisateur:\"), React.createElement(\"select\", {\n      name: \"droit\",\n      id: \"pays\",\n      value: this.state.droit,\n      onChange: this.OnChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"SUPER\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"SUPER\"), React.createElement(\"option\", {\n      value: \"USER\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"USER\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"submit\",\n      variant: \"contained\",\n      color: \"primary\",\n      size: \"small\",\n      onClick: this.OnClickAjouter.bind(this),\n      style: {\n        position: 'relative',\n        top: 7\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Ajouter\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    responsables: state.responsables\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchResponsables: data => {\n      dispatch({\n        type: \"FETCH_RESPONSABLES\",\n        data\n      });\n    },\n    addResponsables: data => {\n      dispatch({\n        type: \"ADD_RESPONSABLES\",\n        data: data\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GResponsables);","map":{"version":3,"sources":["/opt/lampp/htdocs/myprojects/tropik/frontend/src/Components/Serveur/GResponsables.jsx"],"names":["React","Component","AdminNavigation","AnnexGResponsables","connect","axios","error","Paper","Button","GResponsables","constructor","props","state","numero","nom","prenom","pseudo","password","telephone","address","droit","images","componentDidMount","get","then","res","data","fetchResponsables","catch","err","console","log","OnChange","e","setState","target","name","value","OnchangeFiles","files","reader","FileReader","readAsDataURL","onload","result","OnClickAjouter","preventDefault","stock","NumResponsable","NomResponsable","PseudoResponsable","PasswordResponsable","PrenomResponsable","AddressResponsable","TelResponsable","DroitResponsable","ImageUrlResponsable","addResponsables","render","history","responsables","dataResponsables","length","map","width","height","padding","margin","border","bind","position","top","mapStateToProps","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport AdminNavigation from './AdminNavigation';\nimport AnnexGResponsables from './AnnexGResponsables';\nimport './styles/GResponsables.scss';\nimport {connect} from 'react-redux';\nimport axios from 'axios';\nimport error from './images/404.jpg';\nimport {Paper, Button} from '@material-ui/core';\n\nclass GResponsables extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      numero: '',\n      nom: '',\n      prenom: '',\n      pseudo: '',\n      password: '',\n      telephone: '',\n      address: '',\n      droit: 'SUPER',\n      images: ''\n    }\n  }\n  componentDidMount() {\n    axios.get(\"http://localhost/myprojects/tropik/backend/Responsables/get\").then(res => res.data).then(state => this.props.fetchResponsables(state)).catch(err => console.log(\"error parsing:\\n\", err));\n  }\n\n  OnChange(e){\n    this.setState({ [e.target.name]:e.target.value })\n  }\n\n  OnchangeFiles(e){\n    let files = e.target.files;\n    let reader = new FileReader();\n    reader.readAsDataURL(files[0]);\n    reader.onload = (e) => {\n      this.setState({images: e.target.result})\n    }\n  }\n\n  OnClickAjouter(e){\n    e.preventDefault();\n    const stock = [{\n      NumResponsable: this.state.numero,\n      NomResponsable: this.state.nom,\n      PseudoResponsable: this.state.pseudo,\n      PasswordResponsable: this.state.password,\n      PrenomResponsable: this.state.prenom,\n      AddressResponsable: this.state.address,\n      TelResponsable: this.state.telephone,\n      DroitResponsable: this.state.droit,\n      ImageUrlResponsable: this.state.images,\n    }]\n    this.props.addResponsables(stock);\n    this.setState({\n      numero: '',\n      nom: '',\n      prenom: '',\n      pseudo: '',\n      password: '',\n      telephone: '',\n      address: '',\n      droit: '',\n      images: ''\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <AdminNavigation  history={this.props.history}/>\n        <div className='GResponsables'>\n          {\n            this.props.responsables.dataResponsables.length!==0?\n            this.props.responsables.dataResponsables.map(e => {\n              return <AnnexGResponsables data={e} key={e.NumResponsable}/>\n            }):<h1>error de serveur</h1>\n          }\n          <Paper style={{width: 400, height: 260, padding: 5,margin: 3}}>\n            <div className='AnnexGResponsables'>\n              <div>\n                <img src={this.state.images!==''?this.state.images:error} alt='hotel'/><br/>\n                <input type='file' name='images' style={{width: 88, border: 'none'}} onChange={this.OnchangeFiles.bind(this)}/>\n              </div>\n              <div className='containtes'>\n                  <div>\n                    {/* <label>Numero:</label> <input value={this.state.numero} type='text' name='numero' onChange={this.OnChange.bind(this)}  disabled/><br/><br/> */}\n                    <label>Nom:</label> <input type='text' value={this.state.nom} name='nom' onChange={this.OnChange.bind(this)}/><br/><br/>\n                    <label>Prenom:</label> <input type='text' value={this.state.prenom} name='prenom' onChange={this.OnChange.bind(this)}/><br/><br/>\n                    <label>Pseudo:</label> <input type='text' value={this.state.pseudo} name='pseudo' onChange={this.OnChange.bind(this)}/><br/><br/>\n                    <label>Password:</label> <input type='text' value={this.state.password} name='password' onChange={this.OnChange.bind(this)}/><br/><br/>\n                    <label>Telephone:</label> <input type='text' value={this.state.telephone} name='telephone' onChange={this.OnChange.bind(this)}/><br/><br/>\n                    <label>Address:</label> <input type='text' value={this.state.address} name='address' onChange={this.OnChange.bind(this)}/><br/><br/>\n                    <label>Droit d'utilisateur:</label>\n                    <select name=\"droit\" id=\"pays\" value={this.state.droit} onChange={this.OnChange.bind(this)}>\n                      <option value=\"SUPER\">SUPER</option>\n                      <option value=\"USER\">USER</option>\n                    </select><br/>\n\n                    <Button type=\"submit\" variant=\"contained\" color='primary' size=\"small\" onClick={this.OnClickAjouter.bind(this)} style={{position: 'relative', top: 7}}>\n                      Ajouter\n                    </Button>\n                  </div>\n\n              </div>\n            </div>\n          </Paper>\n        </div>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = state => {\n  return {responsables: state.responsables}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchResponsables: data => {\n      dispatch({type: \"FETCH_RESPONSABLES\", data})\n    },\n    addResponsables: (data) => {\n      dispatch({type: \"ADD_RESPONSABLES\", data: data});\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GResponsables);\n"]},"metadata":{},"sourceType":"module"}