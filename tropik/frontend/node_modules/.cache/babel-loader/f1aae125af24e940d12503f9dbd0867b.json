{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/myprojects/tropik/frontend/src/Components/Clients/ChambresDetails.jsx\";\nimport './styles/Chambres.scss';\nimport 'date-fns';\nimport money from './images/money.png';\nimport DateFnsUtils from '@date-io/date-fns';\nimport { Fab, Grid, Paper } from '@material-ui/core';\nimport { KeyboardArrowLeft, Lock, PanoramaFishEyeOutlined } from '@material-ui/icons';\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport axios from 'axios';\nimport React, { lazy, Component, Suspense } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nconst AnnexChambresDetails = lazy(() => import('./AnnexChambresDetails'));\n\nclass ChambresDetails extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.OnChangeSlider = async e => {\n      e.preventDefault(); // await this.sleep(5000);\n\n      this.props.updateSlide(e.target.value);\n    };\n\n    this.handleDateChange1 = date => {\n      const dateNow = new Date();\n      const dateNowf = new Date(this.props.reserver.date2);\n      const newDate = date;\n      const value1 = newDate - dateNow;\n      const value2 = dateNowf - newDate;\n\n      if (value1 >= 0) {\n        if (value2 >= 0) {\n          this.props.updateDate1(date);\n        } else {\n          this.props.updateDate1(new Date(dateNowf.setDate(dateNowf.getDate() - 1)));\n        }\n      } else {\n        this.props.updateDate1(dateNow);\n      }\n    };\n\n    this.handleDateChange2 = date => {\n      const dateNow = new Date(this.props.reserver.date1);\n      const newDate = date;\n      const value = newDate - dateNow;\n\n      if (value >= 0) {\n        this.props.updateDate2(date);\n      } else {\n        this.props.updateDate2(new Date(dateNow.setDate(dateNow.getDate() + 1)));\n      }\n    };\n  }\n\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  componentDidMount() {\n    if (this.props.chambres.dataChambres.length === 0) {\n      axios.get(\"http://localhost:80/myprojects/tropik/backend/Chambres/get\").then(res => res.data).then(state => this.props.fetchchambres(state, this.props.match.params.types)).catch(err => console.log(\"error parsing:\\n\", err));\n      this.props.updateOne(!this.props.chambres.one);\n    }\n\n    if (this.props.clients.dataClients.length === 0) {\n      axios.get(\"http://localhost/myprojects/tropik/backend/Clients/get\").then(res => res.data).then(state => this.props.fetchClients(state)).catch(err => console.log(\"error parsing:\\n\", err));\n      this.props.updateOne(!this.props.clients.one);\n    }\n  }\n\n  render() {\n    const slide = this.props.chambres.slide;\n    return React.createElement(\"div\", {\n      style: {\n        padding: 10,\n        backgroundColor: '#a3d393',\n        minHeight: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"btnMarginRigth\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(Fab, {\n      color: \"primary\",\n      variant: \"extended\",\n      size: \"small\",\n      \"aria-label\": \"delete\",\n      className: \"addReservation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(KeyboardArrowLeft, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), \"Accueil\"))), React.createElement(\"div\", {\n      className: \"btnMarginLeft\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/Login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(Fab, {\n      color: \"default\",\n      variant: \"extended\",\n      size: \"small\",\n      \"aria-label\": \"delete\",\n      className: \"addReservation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(Lock, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), \"Admin\", React.createElement(\"span\", {\n      style: {\n        width: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        paddingLeft: 50,\n        display: 'flex'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: '30px 10px 10px 10px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"slidecontainer\",\n      style: {\n        width: 300\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: money,\n      alt: \"money icon\",\n      width: \"30\",\n      height: \"30\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      style: {\n        position: 'relative',\n        top: '-8px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, slide, \" Ar\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"range\",\n      min: \"0\",\n      max: \"100000\",\n      value: slide,\n      step: 100,\n      className: \"slider\",\n      onChange: this.OnChangeSlider.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), \" \"), React.createElement(MuiPickersUtilsProvider, {\n      utils: DateFnsUtils,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"space-around\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      style: {\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(KeyboardDatePicker, {\n      margin: \"normal\",\n      id: \"date-picker-dialog\",\n      label: \"Date debut\",\n      format: \"dd/MM/yyyy\",\n      value: this.props.reserver.date1,\n      onChange: this.handleDateChange1.bind(this),\n      KeyboardButtonProps: {\n        'aria-label': 'change date'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(Paper, {\n      style: {\n        padding: 10\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(KeyboardDatePicker, {\n      margin: \"normal\",\n      id: \"date-picker-dialog\",\n      label: \"Date fin\",\n      format: \"dd/MM/yyyy\",\n      value: this.props.reserver.date2,\n      onChange: this.handleDateChange2.bind(this),\n      KeyboardButtonProps: {\n        'aria-label': 'change date'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }))))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(Suspense, {\n      fallback: React.createElement(\"div\", {\n        style: {\n          position: 'relative',\n          top: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \" \", React.createElement(PanoramaFishEyeOutlined, {\n        className: \"loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(AnnexChambresDetails, {\n      types: this.props.match.params.types,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    chambres: state.chambres,\n    reserver: state.reserver,\n    concerner: state.concerner,\n    clients: state.clients\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateOne: data => {\n      dispatch({\n        type: \"UPDATE_ONE\",\n        data\n      });\n    },\n    updateEroor: data => {\n      dispatch({\n        type: \"UPDATE_EROOR\",\n        data: data\n      });\n    },\n    fetchchambres: (data, types) => {\n      dispatch({\n        type: \"FETCH_CHAMBRES\",\n        data: data,\n        types: types\n      });\n    },\n    updateSlide: data => {\n      dispatch({\n        type: \"ON_CHANGE_SLIDER\",\n        data: data\n      });\n    },\n    updateDate1: data => {\n      dispatch({\n        type: \"UPDATE_DATE_1\",\n        data: data\n      });\n    },\n    updateDate2: data => {\n      dispatch({\n        type: \"UPDATE_DATE_2\",\n        data: data\n      });\n    },\n    fetchClients: data => {\n      dispatch({\n        type: \"FETCH_CLIENTS\",\n        data: data\n      });\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChambresDetails);","map":{"version":3,"sources":["/opt/lampp/htdocs/myprojects/tropik/frontend/src/Components/Clients/ChambresDetails.jsx"],"names":["money","DateFnsUtils","Fab","Grid","Paper","KeyboardArrowLeft","Lock","PanoramaFishEyeOutlined","KeyboardDatePicker","MuiPickersUtilsProvider","axios","React","lazy","Component","Suspense","connect","Link","AnnexChambresDetails","ChambresDetails","OnChangeSlider","e","preventDefault","props","updateSlide","target","value","handleDateChange1","date","dateNow","Date","dateNowf","reserver","date2","newDate","value1","value2","updateDate1","setDate","getDate","handleDateChange2","date1","updateDate2","sleep","ms","Promise","resolve","setTimeout","componentDidMount","chambres","dataChambres","length","get","then","res","data","state","fetchchambres","match","params","types","catch","err","console","log","updateOne","one","clients","dataClients","fetchClients","render","slide","padding","backgroundColor","minHeight","display","justifyContent","width","paddingLeft","position","top","bind","mapStateToProps","concerner","mapDispatchToProps","dispatch","type","updateEroor"],"mappings":"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","sourcesContent":["import './styles/Chambres.scss';\nimport 'date-fns';\n\nimport money from './images/money.png';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {Fab, Grid, Paper} from '@material-ui/core';\nimport {KeyboardArrowLeft, Lock, PanoramaFishEyeOutlined} from '@material-ui/icons';\nimport {KeyboardDatePicker, MuiPickersUtilsProvider} from '@material-ui/pickers';\nimport axios from 'axios';\nimport React, {lazy, Component, Suspense} from 'react';\nimport {connect} from 'react-redux';\nimport {Link} from 'react-router-dom';\n\nconst AnnexChambresDetails = lazy(() => import('./AnnexChambresDetails'));\n\nclass ChambresDetails extends Component {\n  sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n  OnChangeSlider = async e => {\n    e.preventDefault();\n    // await this.sleep(5000);\n    this.props.updateSlide(e.target.value);\n  }\n\n  componentDidMount() {\n    if (this.props.chambres.dataChambres.length === 0) {\n      axios.get(\"http://localhost:80/myprojects/tropik/backend/Chambres/get\").then(res => res.data).then(state => this.props.fetchchambres(state, this.props.match.params.types)).catch(err => console.log(\"error parsing:\\n\", err));\n      this.props.updateOne(!this.props.chambres.one);\n    }\n    if (this.props.clients.dataClients.length === 0) {\n      axios.get(\"http://localhost/myprojects/tropik/backend/Clients/get\").then(res => res.data).then(state => this.props.fetchClients(state)).catch(err => console.log(\"error parsing:\\n\", err));\n      this.props.updateOne(!this.props.clients.one);\n    }\n  }\n\n\n  handleDateChange1 = (date) => {\n    const dateNow = new Date();\n    const dateNowf = new Date(this.props.reserver.date2);\n    const newDate = date;\n    const value1 = newDate - dateNow;\n    const value2 = dateNowf - newDate\n    if (value1 >= 0) {\n      if (value2 >= 0) {\n        this.props.updateDate1(date)\n      } else {\n        this.props.updateDate1(new Date(dateNowf.setDate(dateNowf.getDate() - 1)));\n      }\n    } else {\n      this.props.updateDate1(dateNow);\n    }\n  }\n\n  handleDateChange2 = (date) => {\n    const dateNow = new Date(this.props.reserver.date1);\n    const newDate = date;\n    const value = newDate - dateNow;\n    if (value >= 0) {\n      this.props.updateDate2(date);\n    } else {\n      this.props.updateDate2(new Date(dateNow.setDate(dateNow.getDate() + 1)));\n    }\n  }\n\n  render() {\n    const {slide} = this.props.chambres;\n\n    return (<div style={{\n        padding: 10,\n        backgroundColor: '#a3d393',\n        minHeight: '100vh'\n      }}>\n      <div style={{\n          display: 'flex',\n          justifyContent: 'space-between'\n        }}>\n        <div className='btnMarginRigth'>\n          <Link to='/'>\n            <Fab color='primary' variant=\"extended\" size='small' aria-label=\"delete\" className='addReservation'>\n              <KeyboardArrowLeft/>\n              Accueil\n            </Fab>\n          </Link>\n\n        </div>\n        <div className='btnMarginLeft'>\n          <Link to='/Login'>\n            <Fab color='default' variant=\"extended\" size='small' aria-label=\"delete\" className='addReservation'>\n              <Lock/>\n              Admin<span style={{\n        width: 10\n      }}></span>\n            </Fab>\n          </Link>\n        </div>\n      </div>\n      <br/>\n      <br/>\n      <br/>\n      <div style={{\n          paddingLeft: 50,\n          display: 'flex'\n        }}>\n\n        <Paper style={{\n            padding: '30px 10px 10px 10px'\n          }}>\n          <div className=\"slidecontainer\" style={{\n              width: 300\n            }}>\n            <img src={money} alt='money icon' width='30' height='30'/>\n            <span style={{\n                position: 'relative',\n                top: '-8px'\n              }}>{slide} Ar</span><br/>\n            <input type=\"range\" min=\"0\" max=\"100000\" value={slide} step={100} className=\"slider\" onChange={this.OnChangeSlider.bind(this)}/>\n          </div>{\" \"}\n        </Paper>\n\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <Grid container={true} justify=\"space-around\">\n            <Paper style={{\n                padding: 10\n              }}>\n              <KeyboardDatePicker margin=\"normal\" id=\"date-picker-dialog\" label=\"Date debut\" format=\"dd/MM/yyyy\" value={this.props.reserver.date1} onChange={this.handleDateChange1.bind(this)} KeyboardButtonProps={{\n                  'aria-label' : 'change date'\n                }}/>\n            </Paper>\n            <Paper style={{\n                padding: 10\n              }}>\n              <KeyboardDatePicker margin=\"normal\" id=\"date-picker-dialog\" label=\"Date fin\" format=\"dd/MM/yyyy\" value={this.props.reserver.date2} onChange={this.handleDateChange2.bind(this)} KeyboardButtonProps={{\n                  'aria-label' : 'change date'\n                }}/>\n            </Paper>\n          </Grid>\n        </MuiPickersUtilsProvider>\n      </div>\n      <br/>\n      <div>\n        <Suspense fallback={<div style = {{position: 'relative', top: 100}} > <PanoramaFishEyeOutlined className=\"loading\"/></div>}>\n          <AnnexChambresDetails types={this.props.match.params.types}/>\n        </Suspense>\n      </div>\n    </div>);\n  }\n}\nconst mapStateToProps = state => {\n  return {chambres: state.chambres, reserver: state.reserver, concerner: state.concerner, clients: state.clients}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    updateOne: (data) => {\n      dispatch({type: \"UPDATE_ONE\", data});\n    },\n    updateEroor: (data) => {\n      dispatch({type: \"UPDATE_EROOR\", data: data});\n    },\n    fetchchambres: (data,types) => {\n      dispatch({type: \"FETCH_CHAMBRES\", data: data, types: types});\n    },\n    updateSlide: (data) => {\n      dispatch({type: \"ON_CHANGE_SLIDER\", data: data});\n    },\n    updateDate1: (data) => {\n      dispatch({type: \"UPDATE_DATE_1\", data: data});\n    },\n    updateDate2: (data) => {\n      dispatch({type: \"UPDATE_DATE_2\", data: data});\n    },\n    fetchClients: (data) => {\n      dispatch({type: \"FETCH_CLIENTS\", data: data});\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChambresDetails);\n"]},"metadata":{},"sourceType":"module"}