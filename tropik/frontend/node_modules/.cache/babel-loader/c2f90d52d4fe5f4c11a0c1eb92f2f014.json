{"ast":null,"code":"import axios from 'axios';\nimport { ADD_CHAMBRES, DELETE_CHAMBRES, UPDATE_CHAMBRES, FETCH_CHAMBRES, UPDATE_ONE, ON_CHANGE_CHAMBRES, ON_CHANGE_SLIDER, NEW_DATA_CHAMBRES } from '../actions/typesChambres';\nconst initState = {\n  dataChambres: [// {\n    // \tNomChambre:\"Acacias\",\n    // \tTelChambre:\"0340022211\",\n    // \tEtageChambre: \"2\",\n    // \tChauffeauChambre: \"ELECTRIQUE\",\n    // \tPrixChambre: 30000,\n    // \tNumCategorie: 1,\n    // \tNumType: 1\n    // },\n    // {\n    // \tNomChambre:\"Arum\",\n    // \tTelChambre:\"0349354341\",\n    // \tEtageChambre: \"2\",\n    // \tChauffeauChambre: \"GAZ\",\n    // \tPrixChambre: 20000,\n    // \tNumCategorie: 1,\n    // \tNumType: 1\n    // }\n  ],\n  mocksChambres: '',\n  one: true,\n  submitReusit: true,\n  changes: {\n    NomChambre: \"\",\n    TelChambre: \"\",\n    EtageChambre: \"\",\n    ChauffeauChambre: \"\",\n    PrixChambre: \"\",\n    NumCategorie: \"\",\n    NumType: \"\"\n  },\n  slide: 0,\n  dateNow: '',\n  newDataChambres: []\n};\n\nconst ChambresReducers = (state = initState, action) => {\n  switch (action.type) {\n    case ADD_CHAMBRES:\n      axios.post(\"http://localhost/myprojects/tropik/backend/Chambres/post\", action.data, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(h => console.log(h)).catch(err => console.log(\"error parsing:\\n\", err));\n      state.dataChambres = [...state.dataChambres, ...action.data];\n      return Object.assign({}, state, state.dataChambres);\n\n    case DELETE_CHAMBRES:\n      const st = state.dataChambres.filter(e => {\n        return e.NomChambre !== action.id;\n      });\n      state.dataChambres = [...st];\n      axios.delete(\"http://localhost/myprojects/tropik/backend/Chambres/delete/\" + action.id, {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(e => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n      return Object.assign({}, state, state.dataChambres);\n\n    case UPDATE_CHAMBRES:\n      const std1 = state.dataChambres.filter(e => {\n        return e.NomChambre !== action.data.NomChambre;\n      });\n      const sto1 = action.data;\n      state.dataChambres = [...std1, sto1];\n      axios.put(\"http://localhost/myprojects/tropik/backend/Chambres/put/\" + action.id, [sto1]).then(e => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n      return Object.assign({}, state, state.dataChambres);\n\n    case FETCH_CHAMBRES:\n      state.dataChambres = [];\n      state.newDataChambres = [];\n      state.dataChambres = [...action.data];\n      state.dataChambres.map(e => {\n        if (e.PrixChambre >= state.slide) {\n          state.slide = e.PrixChambre;\n        }\n\n        return null;\n      });\n      const date = new Date();\n      const years = date.getFullYear();\n      const mounth = (parseInt(date.getMonth()) < 10 ? '0' : '') + date.getMonth();\n      const days = (parseInt(date.getDate()) < 10 ? '0' : '') + date.getDate();\n      state.dateNow = years + \"-\" + mounth + \"-\" + days;\n      return Object.assign({}, state, state.dataChambres);\n\n    case UPDATE_ONE:\n      state.one = action.data;\n      return Object.assign({}, state, state.one);\n\n    case ON_CHANGE_CHAMBRES:\n      state.changes[action.data.name] = action.data.value;\n      return Object.assign({}, state, state.changes);\n\n    case ON_CHANGE_SLIDER:\n      state.slide = action.data;\n      return Object.assign({}, state, state.slide);\n\n    case NEW_DATA_CHAMBRES:\n      state.newDataChambres = [];\n      state.newDataChambres = action.data;\n      return Object.assign({}, state, state.newdataChambres);\n\n    default:\n      return state;\n  }\n};\n\nexport default ChambresReducers;","map":{"version":3,"sources":["/opt/lampp/htdocs/myprojects/tropik/frontend/src/reducers/ChambresReducers.jsx"],"names":["axios","ADD_CHAMBRES","DELETE_CHAMBRES","UPDATE_CHAMBRES","FETCH_CHAMBRES","UPDATE_ONE","ON_CHANGE_CHAMBRES","ON_CHANGE_SLIDER","NEW_DATA_CHAMBRES","initState","dataChambres","mocksChambres","one","submitReusit","changes","NomChambre","TelChambre","EtageChambre","ChauffeauChambre","PrixChambre","NumCategorie","NumType","slide","dateNow","newDataChambres","ChambresReducers","state","action","type","post","data","headers","then","h","console","log","catch","err","Object","assign","st","filter","e","id","delete","std1","sto1","put","map","date","Date","years","getFullYear","mounth","parseInt","getMonth","days","getDate","name","value","newdataChambres"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {ADD_CHAMBRES, DELETE_CHAMBRES, UPDATE_CHAMBRES, FETCH_CHAMBRES, UPDATE_ONE, ON_CHANGE_CHAMBRES, ON_CHANGE_SLIDER, NEW_DATA_CHAMBRES} from '../actions/typesChambres';\n\nconst initState = {\n\tdataChambres: [\n\t\t// {\n\t\t// \tNomChambre:\"Acacias\",\n\t\t// \tTelChambre:\"0340022211\",\n\t\t// \tEtageChambre: \"2\",\n\t\t// \tChauffeauChambre: \"ELECTRIQUE\",\n\t\t// \tPrixChambre: 30000,\n\t\t// \tNumCategorie: 1,\n\t\t// \tNumType: 1\n\t\t// },\n\t\t// {\n\t\t// \tNomChambre:\"Arum\",\n\t\t// \tTelChambre:\"0349354341\",\n\t\t// \tEtageChambre: \"2\",\n\t\t// \tChauffeauChambre: \"GAZ\",\n\t\t// \tPrixChambre: 20000,\n\t\t// \tNumCategorie: 1,\n\t\t// \tNumType: 1\n\t\t// }\n\t],\n\tmocksChambres: '',\n\tone: true,\n\tsubmitReusit: true,\n\tchanges : {\n\t\tNomChambre: \"\",\n\t\tTelChambre: \"\",\n\t\tEtageChambre: \"\",\n\t\tChauffeauChambre: \"\",\n\t\tPrixChambre: \"\",\n\t\tNumCategorie: \"\",\n\t\tNumType: \"\"\n\t},\n\tslide: 0,\n\tdateNow: '',\n\tnewDataChambres: []\n}\n\nconst ChambresReducers = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase ADD_CHAMBRES:\n\n\t\t\taxios.post(\"http://localhost/myprojects/tropik/backend/Chambres/post\", action.data,{\n\t\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t}\n\t\t\t\t}).then(h => console.log(h)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\tstate.dataChambres = [\n\t\t\t\t...state.dataChambres, ...action.data\n\t\t\t];\n\t\t\treturn Object.assign({}, state, state.dataChambres);\n\n\t\tcase DELETE_CHAMBRES:\n\t\t\tconst st = state.dataChambres.filter(e => {\n\t\t\t\treturn e.NomChambre !== action.id;\n\t\t\t});\n\t\t\tstate.dataChambres = [...st];\n\t\t\taxios.delete(\"http://localhost/myprojects/tropik/backend/Chambres/delete/\" + action.id,{\n\t\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t}\n\t\t\t\t}).then((e) => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\treturn Object.assign({}, state, state.dataChambres);\n\n\t\tcase UPDATE_CHAMBRES:\n\t\t\tconst std1 = state.dataChambres.filter(e => {\n\t\t\t\treturn e.NomChambre !== action.data.NomChambre;\n\t\t\t});\n\t\t\tconst sto1 = action.data;\n\t\t\tstate.dataChambres = [\n\t\t\t\t...std1,\n\t\t\t\tsto1\n\t\t\t];\n\t\t\taxios.put(\"http://localhost/myprojects/tropik/backend/Chambres/put/\" + action.id, [sto1]).then((e) => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n\n\t\t\treturn Object.assign({}, state, state.dataChambres);\n\n\t\tcase FETCH_CHAMBRES:\n\t\t\tstate.dataChambres = [];\n\t\t\tstate.newDataChambres = [];\n\t\t  state.dataChambres = [\n\t\t    ...action.data\n\t\t  ];\n\n\t\t\tstate.dataChambres.map((e)=>{\n\t\t\t\tif(e.PrixChambre >= state.slide){\n\t\t\t\t\tstate.slide = e.PrixChambre;\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t})\n\t\t\tconst date = new Date();\n\t\t\tconst years = date.getFullYear();\n\t\t\tconst mounth = ((parseInt(date.getMonth())<10)?'0':'') + date.getMonth();\n\t\t\tconst days = ((parseInt(date.getDate())<10)?'0':'')+date.getDate();\n\t\t\tstate.dateNow= years +\"-\"+mounth+\"-\"+days\n\t\t  return Object.assign({}, state, state.dataChambres);\n\n\t\tcase UPDATE_ONE:\n\t\t\tstate.one = action.data;\n\t\t\treturn Object.assign({}, state, state.one);\n\n\t\tcase ON_CHANGE_CHAMBRES:\n\t\t\tstate.changes[action.data.name] = action.data.value;\n\t\t\treturn Object.assign({}, state, state.changes);\n\n\t\tcase ON_CHANGE_SLIDER:\n\t\t\tstate.slide = action.data;\n\t\t\treturn Object.assign({}, state, state.slide);\n\n\t\tcase NEW_DATA_CHAMBRES:\n\t\t\tstate.newDataChambres = []\n\t\t\tstate.newDataChambres = action.data;\n\t\t\treturn Object.assign({}, state, state.newdataChambres);\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default ChambresReducers;\n"]},"metadata":{},"sourceType":"module"}