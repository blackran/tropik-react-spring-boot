{"ast":null,"code":"import { ADD_RESPONSABLES, FETCH_RESPONSABLES, UPDATE_EROOR, USER_CONNECTER, DELETE_RESPONSABLES, UPDATE_RESPONSABLES } from '../actions/typesResponsables';\nimport axios from 'axios';\nimport shortid from 'shortid';\nconst initState = {\n  dataResponsables: [// {\n    //   NumResponsable: 1,\n    //   NomResponsable: 'RASOLONDRAIBE',\n    //   PseudoResponsable: 'blackran',\n    //   PasswordResponsable: 'iloveyou',\n    //   PrenomResponsable: 'Andrianantenaina',\n    //   AddressResponsable: 'ambohitrandriana ambalavao',\n    //   TelResponsable: '0343949863',\n    //   DroitResponsable: 'SUPERS',\n    //   ImageUrlResponsable: 'lorem upsom',\n    // },\n    // {\n    //   NumResponsable: 2,\n    //   NomResponsable: 'RASOLONDRAIBE',\n    //   PseudoResponsable: 'root',\n    //   PasswordResponsable: 'password',\n    //   PrenomResponsable: 'Feno Sitraka',\n    //   AddressResponsable: 'ambohitrandriana ambalavao',\n    //   TelResponsable: '',\n    //   DroitResponsable: 'USER',\n    //   ImageUrlResponsable: 'lorem upsom',\n    // },\n  ],\n  error: false,\n  idUserConnect: null\n};\n\nconst ResponsablesReducers = (state = initState, action) => {\n  switch (action.type) {\n    case FETCH_RESPONSABLES:\n      state.dataResponsables = [];\n      state.dataResponsables = [...action.data];\n      return Object.assign({}, state, state.dataResponsables);\n\n    case ADD_RESPONSABLES:\n      action.data[0].NumResponsable = shortid.generate();\n      state.dataResponsables = [...state.dataResponsables, ...action.data];\n      axios.post(\"http://localhost/myprojects/tropik/backend/Responsables/post\", action.data, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).catch(err => console.log(\"error parsing:\\n\", err));\n      return Object.assign({}, state, state.dataResponsables);\n\n    case DELETE_RESPONSABLES:\n      const st = state.dataResponsables.filter(e => {\n        return e.NumResponsable !== action.id;\n      });\n      state.dataResponsables = [...st];\n      console.log(st);\n      axios.delete(\"http://localhost/myprojects/tropik/backend/Responsables/delete/\" + action.id, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(e => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n      return Object.assign({}, state, state.dataResponsables);\n\n    case UPDATE_RESPONSABLES:\n      const std1 = state.dataResponsables.filter(e => {\n        return e.NumResponsable !== action.data[0].NumResponsable;\n      }); // console.log(std1)\n\n      const sto1 = action.data;\n      state.dataResponsables = [...std1, ...sto1];\n      axios.post(\"http://localhost/myprojects/tropik/backend/Responsables/put/\" + action.data[0].NumResponsable, sto1, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }\n      }).then(e => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n      return Object.assign({}, state, state.dataResponsables);\n\n    case UPDATE_EROOR:\n      state.error = action.data;\n      return Object.assign({}, state, state.error);\n\n    case USER_CONNECTER:\n      state.idUserConnect = action.data;\n      return Object.assign({}, state, state.idUserConnect);\n\n    default:\n      return state;\n  }\n};\n\nexport default ResponsablesReducers;","map":{"version":3,"sources":["/opt/lampp/htdocs/myprojects/tropik/frontend/src/reducers/ResponsablesReducers.jsx"],"names":["ADD_RESPONSABLES","FETCH_RESPONSABLES","UPDATE_EROOR","USER_CONNECTER","DELETE_RESPONSABLES","UPDATE_RESPONSABLES","axios","shortid","initState","dataResponsables","error","idUserConnect","ResponsablesReducers","state","action","type","data","Object","assign","NumResponsable","generate","post","headers","catch","err","console","log","st","filter","e","id","delete","then","std1","sto1"],"mappings":"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","sourcesContent":["import {ADD_RESPONSABLES, FETCH_RESPONSABLES, UPDATE_EROOR, USER_CONNECTER, DELETE_RESPONSABLES, UPDATE_RESPONSABLES} from '../actions/typesResponsables';\nimport axios from 'axios';\nimport shortid from 'shortid';\n\nconst initState = {\n\tdataResponsables: [\n    // {\n    //   NumResponsable: 1,\n    //   NomResponsable: 'RASOLONDRAIBE',\n    //   PseudoResponsable: 'blackran',\n    //   PasswordResponsable: 'iloveyou',\n    //   PrenomResponsable: 'Andrianantenaina',\n    //   AddressResponsable: 'ambohitrandriana ambalavao',\n    //   TelResponsable: '0343949863',\n    //   DroitResponsable: 'SUPERS',\n    //   ImageUrlResponsable: 'lorem upsom',\n    // },\n    // {\n    //   NumResponsable: 2,\n    //   NomResponsable: 'RASOLONDRAIBE',\n    //   PseudoResponsable: 'root',\n    //   PasswordResponsable: 'password',\n    //   PrenomResponsable: 'Feno Sitraka',\n    //   AddressResponsable: 'ambohitrandriana ambalavao',\n    //   TelResponsable: '',\n    //   DroitResponsable: 'USER',\n    //   ImageUrlResponsable: 'lorem upsom',\n    // },\n\t],\n  error: false,\n  idUserConnect: null\n}\n\nconst ResponsablesReducers = (state = initState, action) => {\n\tswitch (action.type) {\n\t\tcase FETCH_RESPONSABLES:\n\t\t\tstate.dataResponsables = [];\n\t\t  state.dataResponsables = [\n\t\t    ...action.data\n\t\t  ];\n\t\t  return Object.assign({}, state, state.dataResponsables);\n\n\t\tcase ADD_RESPONSABLES:\n\t\t\taction.data[0].NumResponsable = shortid.generate();\n\t\t  state.dataResponsables = [\n\t\t    ...state.dataResponsables, ...action.data\n\t\t  ];\n\t\t\taxios.post(\"http://localhost/myprojects/tropik/backend/Responsables/post\", action.data,\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t}\n\t\t\t}).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t  return Object.assign({}, state, state.dataResponsables);\n\n\t\tcase DELETE_RESPONSABLES:\n\t\t\tconst st = state.dataResponsables.filter(e => {\n\t\t\t\treturn e.NumResponsable !== action.id;\n\t\t\t});\n\t\t\tstate.dataResponsables = [...st];\n\t\t\tconsole.log(st)\n\t\t\taxios.delete(\"http://localhost/myprojects/tropik/backend/Responsables/delete/\" + action.id,{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\t'Accept': 'application/json',\n\t\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t\t}\n\t\t\t\t}).then((e) => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n\t\t\treturn Object.assign({}, state, state.dataResponsables);\n\n\t\tcase UPDATE_RESPONSABLES:\n\t\t\tconst std1 = state.dataResponsables.filter(e => {\n\t\t\t\treturn e.NumResponsable !== action.data[0].NumResponsable;\n\t\t\t});\n\t\t\t// console.log(std1)\n\t\t\tconst sto1 = action.data;\n\t\t\tstate.dataResponsables = [\n\t\t\t\t...std1,\n\t\t\t\t...sto1\n\t\t\t];\n\t\t\taxios.post(\"http://localhost/myprojects/tropik/backend/Responsables/put/\" + action.data[0].NumResponsable,\n\t\t\tsto1,\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t'Accept': 'application/json',\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t\t}\n\t\t\t}).then((e) => console.log(e)).catch(err => console.log(\"error parsing:\\n\", err));\n\n\t\t\treturn Object.assign({}, state, state.dataResponsables);\n\n    case UPDATE_EROOR:\n\t\t\tstate.error = action.data;\n\t\t\treturn Object.assign({}, state, state.error);\n    case USER_CONNECTER:\n\t\t\tstate.idUserConnect = action.data;\n\t\t\treturn Object.assign({}, state, state.idUserConnect);\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport default ResponsablesReducers;\n"]},"metadata":{},"sourceType":"module"}